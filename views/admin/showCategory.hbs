<div id="layout-wrapper">  
            

            <!-- ========== Left Sidebar Start ========== -->

            
            <!-- Start right Content here -->
            <!-- ============================================================== -->
                <div class="main-content">

                    <div class="page-content">
                        {{!-- <div class="container-fluid"> --}}

                            <!-- start page title -->
                            <div class="row">

                               
                                <table class="table" id="adminTable" >
                                    <thead>
                                        <tr >
                                        <th scope="col">No</th>
                                        <th scope="col">Category Name</th>
                                        <th scope="col">View Details</th>
                                        <th scope="col">Actions</th>
                                        </tr>
                                    </thead>
                                        <tbody id="myTable">
                                            {{#each cattDetails}}
                                                <tr id="{{this._id}}" class="align-middle">
                                                    <td></td>
                                                    <td>{{this.categoryName}}</td>
                                                    <td><a href="/categoryManagement/viewSubcategory/{{this._id}}">View Subcategories</a></td>
                                                    <td>
                                                        <a class="btn btn-danger mt-2 "   onclick="confirmDelete('{{this._id}}')" type="submit">Delete</a>
                                                    </td>
                                                </tr>
                                            {{/each}}
                                            
                                        </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
</div>





<script>
    function confirmDelete(id) {
        swal({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover this Category!",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {
                    $.ajax({
                        url: "/categoryManagement/deleteCategory",
                        type: "POST",
                        data: {
                            id: id
                        },

                        success:  ()=> {
                             $('#' + id).remove()
                             swal("Category has been deleted!", {
                                icon: "success",
                            });
                      
                        },

                    });

                } else {
                    swal("Category not deleted!");
                }
            });
    }
    
</script>


